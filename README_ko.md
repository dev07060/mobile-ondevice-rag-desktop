# Local Gemma macOS

ë¡œì»¬ í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ëŠ” RAG(Retrieval-Augmented Generation) + Ollama LLM í†µí•© ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸ“‹ í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **macOS** (Apple Silicon ë˜ëŠ” Intel)
- **Flutter** 3.9.0 ì´ìƒ
- **Dart SDK** 3.9.2 ì´ìƒ
- **Ollama** (ë¡œì»¬ LLM ì‹¤í–‰ìš©)

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ë¡œì»¬ RAG**: ì™„ì „íˆ ì˜¤í”„ë¼ì¸ì—ì„œ ë¬¸ì„œì™€ ëŒ€í™”í•˜ì„¸ìš”.
- **í”„ë¼ì´ë²„ì‹œ ë³´í˜¸**: ë°ì´í„°ê°€ ê¸°ê¸°ë¥¼ ë²—ì–´ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- **ë‹¤ì–‘í•œ í¬ë§· ì§€ì›**: PDF, DOCX, Markdown (.md), Text (.txt) íŒŒì¼ ì§€ì›.
- **ì§€ì‹ ê·¸ë˜í”„**: ë¬¸ì„œ ê°„ì˜ ì—°ê²°ì„ ì‹œê°í™”í•©ë‹ˆë‹¤.
- **ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´**: `/summary`, `/define`, `/more` ë“±ì˜ ë¹ ë¥¸ ì•¡ì…˜.

## ğŸš€ ì„¤ì¹˜ ë°©ë²•

### 1. Ollama ì„¤ì¹˜

OllamaëŠ” ë¡œì»¬ì—ì„œ LLMì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.

> âœ… OllamaëŠ” **ì™„ì „íˆ ë¡œì»¬ì—ì„œ ì‹¤í–‰**ë˜ë©°, API í‚¤ë‚˜ ê³„ì •ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```bash
# Homebrewë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜
brew install ollama

# ë˜ëŠ” ê³µì‹ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì§ì ‘ ë‹¤ìš´ë¡œë“œ
# https://ollama.ai/download
```

Ollama ì„¤ì¹˜ í›„, ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤:

```bash
ollama serve
```

### 2. LLM ëª¨ë¸ ë‹¤ìš´ë¡œë“œ

ì•± ë‚´ì—ì„œ **Model Setup** í™”ë©´ì„ í†µí•´ ëª¨ë¸ì„ ì§ì ‘ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜ëŠ” í„°ë¯¸ë„ì—ì„œ ë¯¸ë¦¬ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

```bash
# Gemma 3 ëª¨ë¸ (ê¶Œì¥)
ollama pull gemma3

# ë˜ëŠ” ë‹¤ë¥¸ ëª¨ë¸ ì„ íƒ
ollama pull llama3.2
ollama pull mistral
```

### 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

Ollamaê°€ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì—ì„œ ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
# ë¹Œë“œëœ ì•±ì„ ì‹¤í–‰í•˜ê±°ë‚˜, ê°œë°œ í™˜ê²½ì—ì„œ:
flutter run -d macos
```

flutter run -d macos
```

## ğŸ’¡ ì‚¬ìš© ë°©ë²•

### ë¬¸ì„œ ì¶”ê°€
- ì±„íŒ… ì…ë ¥ì°½ì˜ **ì²¨ë¶€ (ğŸ“)** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
- **PDF**, **DOCX**, **Markdown (.md)**, ë˜ëŠ” **Text (.txt)** íŒŒì¼ì„ ì„ íƒí•©ë‹ˆë‹¤.
- ë¬¸ì„œê°€ ì²˜ë¦¬ë˜ì–´ ë¡œì»¬ ì§€ì‹ ë² ì´ìŠ¤ì— ì¶”ê°€ë©ë‹ˆë‹¤.

### ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´
ì…ë ¥ì°½ì— `/`ë¥¼ ì…ë ¥í•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ë¥¼ í™•ì¸í•˜ì„¸ìš”:
- `/summary`: ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìš”ì•½í•©ë‹ˆë‹¤.
- `/define`: ìš©ì–´ì˜ ì •ì˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- `/more`: ë‚´ìš©ì„ ë” ìì„¸íˆ í™•ì¥í•˜ì—¬ ì„¤ëª…í•©ë‹ˆë‹¤.

### ì„¤ì • ë©”ë‰´
í™ˆ í™”ë©´ì´ë‚˜ ì•±ë°”ì˜ âš™ï¸ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ ì„¤ì •ì— ì ‘ê·¼í•©ë‹ˆë‹¤:
- **ë¬¸ì„œ ì´ˆê¸°í™” (Clear Documents)**: ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•˜ì—¬ ì €ì¥ëœ ëª¨ë“  ë¬¸ì„œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
- **ëª¨ë¸ ë³€ê²½ (Change Model)**: ë‹¤ìš´ë¡œë“œëœ Ollama ëª¨ë¸ ê°„ì— ì „í™˜í•©ë‹ˆë‹¤.
- **Ollama ì¬ì‹œì‘**: ì—°ê²°ì´ ëŠì–´ì§„ ê²½ìš° ë¡œì»¬ Ollama ì„œë²„ë¥¼ ì¬ì‹œì‘í•©ë‹ˆë‹¤.

---

## ğŸ› ï¸ ê°œë°œììš© ì„¤ì¹˜

ì†ŒìŠ¤ ì½”ë“œì—ì„œ ì§ì ‘ ë¹Œë“œí•˜ëŠ” ê²½ìš° ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì¶”ê°€ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.

### 1. ì„ë² ë”© ëª¨ë¸ ë‹¤ìš´ë¡œë“œ

> â„¹ï¸ **ì°¸ê³ **: ì„ë² ë”© ëª¨ë¸ì€ ë¹Œë“œëœ ì•±ì— ë²ˆë“¤ë˜ì–´ ìˆì–´, ì¼ë°˜ ì‚¬ìš©ìëŠ” ë³„ë„ ë‹¤ìš´ë¡œë“œê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤.

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰
chmod +x download_models.sh
./download_models.sh
```

> âš ï¸ ëª¨ë¸ íŒŒì¼ í¬ê¸°ê°€ ì•½ 560MB ì •ë„ì´ë¯€ë¡œ ë‹¤ìš´ë¡œë“œì— ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2. Flutter ì˜ì¡´ì„± ì„¤ì¹˜

```bash
flutter pub get
```

### 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ì‹¤í–‰

```bash
flutter run -d macos
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
local-gemma-macos/
â”œâ”€â”€ lib/                    # Dart ì†ŒìŠ¤ ì½”ë“œ
â”œâ”€â”€ assets/                 # ì„ë² ë”© ëª¨ë¸ íŒŒì¼
â”‚   â”œâ”€â”€ bge-m3-int8.onnx   # BGE-m3 ONNX ëª¨ë¸
â”‚   â””â”€â”€ bge-m3-tokenizer.json
â”œâ”€â”€ macos/                  # macOS í”Œë«í¼ ì„¤ì •
â””â”€â”€ download_models.sh      # ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### Ollama ì—°ê²° ì˜¤ë¥˜

Ollama ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤:

```bash
# Ollama ìƒíƒœ í™•ì¸
ollama list

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
ollama serve
```

### ëª¨ë¸ íŒŒì¼ ëˆ„ë½

`download_models.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ì—¬ ëª¨ë¸ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.

### Flutter ë¹Œë“œ ì˜¤ë¥˜

```bash
# í´ë¦° ë¹Œë“œ
flutter clean
flutter pub get
flutter run -d macos
```

## ğŸ“– ì°¸ê³  ìë£Œ

- [Flutter ê³µì‹ ë¬¸ì„œ](https://docs.flutter.dev/)
- [Ollama ê³µì‹ ë¬¸ì„œ](https://ollama.ai/)
- [BGE-m3 ëª¨ë¸ ì •ë³´](https://huggingface.co/BAAI/bge-m3)
